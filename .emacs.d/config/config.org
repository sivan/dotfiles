#+STARTUP: overview

* 全局配置

** 基础配置
#+BEGIN_SRC emacs-lisp
;; 快速打开配置文件
(defun open-init-file()
  (interactive)
  (find-file "~/.emacs.d/init.el"))

;; 重新加载配置文件
(defun load-config-file()
  (interactive)
  (load-file "~/.emacs.d/init.el"))

;; 这一行代码，将函数 open-init-file 绑定到 <f2> 键上
(global-set-key (kbd "<f2>") 'open-init-file)
(global-set-key (kbd "<f3>") 'load-config-file)

;; 自动加载外部修改过的文件
(global-auto-revert-mode 1)

;; 关闭文件备份
(setq make-backup-files nil)

;; 最近文件
(require 'recentf)
(recentf-mode 1)
(setq recentf-max-menu-item 10)

;; 这个快捷键绑定可以用之后的插件 counsel 代替
;;(global-set-key (kbd "C-x C-r") 'recentf-open-files)

;; 使用y或者n 而不是 yes或者no
(fset 'yes-or-no-p 'y-or-n-p)
#+END_SRC

** 鼠标

#+BEGIN_SRC emacs-lisp
;; 支持鼠标模式
(xterm-mouse-mode 1)

;; 云帆什么烂鼠标
;;(unless window-system
;;  (global-set-key [mouse-4] 'scroll-down-line)
;;  (global-set-key [mouse-5] 'scroll-up-line))
#+END_SRC

* 窗口

#+BEGIN_SRC emacs-lisp
;; 设置启动时窗口位置及大小
(set-frame-position (selected-frame) 260 200)
(set-frame-width (selected-frame) 140)
(set-frame-height (selected-frame) 54)

;; 开启自动全屏
;;(setq initial-frame-alist (quote ((fullscreen . maximized))))

;; 关闭工具栏
(if window-system (tool-bar-mode -1))
;; 隐藏滚动条
;; (if window-system (scroll-bar-mode -1))

;; 关闭启动帮助画面
;;(setq inhibit-splash-screen 1)
#+END_SRC

* 编辑器
** 界面

#+BEGIN_SRC emacs-lisp
;; 更改显示字体大小 16pt
;; http://stackoverflow.com/questions/294664/how-to-set-the-font-size-in-emacs
(set-face-attribute 'default nil :height 160)

;; 更改光标的样式
(setq-default cursor-type '(bar . 3))
(setq-default cursor-in-non-selected-windows 'box)

;; 高亮当前行
(global-hl-line-mode 1)

;; 显示行号
(global-linum-mode 1)
#+END_SRC

** 操作

#+BEGIN_SRC emacs-lisp
;; 禁止tab
;;(setq-default indent-tabs-mode nil)

;; 设置缩进
(setq tab-width 2)

;; 智能缩进
(electric-indent-mode t)

;; 直接替换所选区块的文本，而不是在后面追加
(delete-selection-mode 1)

;; 自动闭合括号
(add-hook 'emacs-lisp-mode-hook 'show-paren-mode)

;; 读写文件编码设置
(prefer-coding-system 'utf-8)
(setq buffer-file-coding-system 'utf-8)
#+END_SRC

